.scene{
  min-height: 100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 16px;
  position:relative;
  overflow:hidden;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background: linear-gradient(180deg, #fff4f9, #f4f6ff 48%, #fffdf7);
}

/* big soft cartoon blobs */
.bg{
  position:absolute;
  inset:-260px;
  background:
    radial-gradient(950px 680px at 18% 18%, rgba(255, 130, 190, 0.22), transparent 70%),
    radial-gradient(950px 680px at 84% 18%, rgba(140, 200, 255, 0.20), transparent 70%),
    radial-gradient(780px 560px at 50% 88%, rgba(0,0,0,0.05), transparent 70%);
  filter: blur(14px);
}

.glow{
  position:absolute;
  inset:0;
  pointer-events:none;
  background: radial-gradient(620px 320px at 50% 10%, rgba(255,255,255,0.85), transparent 70%);
}

.grain{
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity: 0.06;
  background-image:
    radial-gradient(circle at 20% 30%, rgba(0,0,0,0.08) 0 1px, transparent 2px),
    radial-gradient(circle at 60% 70%, rgba(0,0,0,0.06) 0 1px, transparent 2px);
  background-size: 180px 180px;
  mix-blend-mode: multiply;
}

/* âœ… page hearts background */
.pageHearts{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index: 1;
}
.pageHeart{
  position:absolute;
  transform: rotate(45deg);
  border-radius: 4px;
  background: rgba(255, 86, 150, 0.16);
  animation: pageFloat ease-in-out infinite;
}
.pageHeart::before,
.pageHeart::after{
  content:"";
  position:absolute;
  width:100%;
  height:100%;
  background: inherit;
  border-radius: 50%;
}
.pageHeart::before{ top:-50%; left:0; }
.pageHeart::after{ left:-50%; top:0; }
@keyframes pageFloat{
  0%,100%{ transform: rotate(45deg) translateY(0) scale(1); }
  50%{ transform: rotate(45deg) translateY(-16px) scale(1.06); }
}

.card{
  width: min(920px, 100%);
  border-radius: 34px;
  background: rgba(255,255,255,0.92);
  border: 2px solid rgba(20,20,20,0.08);
  box-shadow:
    0 34px 120px rgba(0,0,0,0.16),
    inset 0 1px 0 rgba(255,255,255,0.78);
  backdrop-filter: blur(14px);
  position:relative;
  padding: 16px;
  display:flex;
  flex-direction: column;
  gap: 12px;
  z-index: 2;
}

.card::before{
  content:"";
  position:absolute;
  inset: 10px;
  border-radius: 28px;
  border: 2px dashed rgba(0,0,0,0.08);
  pointer-events:none;
  opacity: 0.50;
}

.header{
  text-align:center;
  padding: 16px 14px 12px;
  border-radius: 26px;
  background: linear-gradient(180deg, rgba(255,245,252,0.85), rgba(235,248,255,0.55));
  border: 2px solid rgba(20,20,20,0.08);
  box-shadow: 0 18px 58px rgba(0,0,0,0.10);
  position:relative;
}

.header::after{
  content:"";
  position:absolute;
  inset:-20px;
  border-radius: 30px;
  background:
    radial-gradient(circle at 14% 20%, rgba(255, 86, 150, 0.12) 0 18px, transparent 20px),
    radial-gradient(circle at 86% 22%, rgba(140, 200, 255, 0.12) 0 18px, transparent 20px),
    radial-gradient(circle at 20% 80%, rgba(255, 200, 80, 0.12) 0 16px, transparent 18px);
  opacity: 0.7;
  pointer-events:none;
}

.chip{
  width: 52px;
  height: 52px;
  display:grid;
  place-items:center;
  margin: 0 auto 10px;
  border-radius: 18px;
  background: rgba(255,255,255,0.96);
  border: 2px solid rgba(20,20,20,0.08);
  box-shadow: 0 18px 44px rgba(0,0,0,0.12);
  transform: rotate(-1.5deg);
}

.title{
  margin:0;
  font-size: clamp(22px, 5.4vw, 54px);
  letter-spacing: -0.02em;
  line-height: 1.06;
  color:#151515;
  font-weight: 950;
}

.subheader{
  margin: 10px 0 0;
  font-size: clamp(13px, 2.9vw, 16px);
  line-height: 1.5;
  color: rgba(0,0,0,0.62);
  font-weight: 750;
}

.hint{
  margin: 10px 0 0;
  font-size: 12px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: rgba(0,0,0,0.52);
  font-weight: 900;
}

.stage{
  display:flex;
  justify-content:center;
}

.bouquetArea{
  position:relative;
  width: min(720px, 92vw);
  aspect-ratio: 1 / 1;
  border-radius: 28px;
  overflow: visible;
  isolation: isolate;

  background:
    radial-gradient(620px 360px at 50% 24%, rgba(255,255,255,0.86), transparent 70%),
    radial-gradient(920px 620px at 50% 100%, rgba(0,0,0,0.10), transparent 72%),
    linear-gradient(180deg, rgba(255,245,252,0.55), rgba(235,248,255,0.35));

  border: 2px solid rgba(20,20,20,0.08);
  box-shadow:
    0 18px 70px rgba(0,0,0,0.10),
    inset 0 1px 0 rgba(255,255,255,0.85);
}

/* little cloud puffs inside bouquet container */
.bouquetArea::before{
  content:"";
  position:absolute;
  inset:-40px;
  border-radius: 28px;
  background:
    radial-gradient(circle at 20% 36%, rgba(255,255,255,0.92) 0 58px, transparent 60px),
    radial-gradient(circle at 32% 32%, rgba(255,255,255,0.86) 0 76px, transparent 78px),
    radial-gradient(circle at 50% 36%, rgba(255,255,255,0.82) 0 68px, transparent 70px),
    radial-gradient(circle at 70% 30%, rgba(255,255,255,0.88) 0 70px, transparent 72px),
    radial-gradient(circle at 84% 34%, rgba(255,255,255,0.84) 0 58px, transparent 60px);
  opacity: 0.42;
  pointer-events:none;
}

.floatHeartLayer{
  position:absolute;
  inset:0;
  z-index: 2;
  pointer-events:none;
  border-radius: 28px;
  overflow:hidden;
}

.floatHeart{
  position:absolute;
  transform: rotate(45deg);
  border-radius: 4px;
  background: rgba(255, 86, 150, 0.18);
  animation-name: floatInside;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
}

.floatHeart::before,
.floatHeart::after{
  content:"";
  position:absolute;
  width:100%;
  height:100%;
  background: inherit;
  border-radius: 50%;
}
.floatHeart::before{ top:-50%; left:0; }
.floatHeart::after{ left:-50%; top:0; }

@keyframes floatInside{
  0%,100%{ transform: rotate(45deg) translateY(0) scale(1); opacity: 0.08; }
  50%{ transform: rotate(45deg) translateY(-12px) scale(1.06); opacity: 0.14; }
}

/* frame behind */
.frame{
  position:absolute;
  inset:0;
  z-index: 1;
  border-radius: 28px;
  overflow:hidden;
  pointer-events:none;
}

/* paper/wrap */
.paperBack{
  position:absolute;
  left: 50%;
  bottom: -10%;
  width: 96%;
  height: 74%;
  transform: translateX(-50%);
  background: linear-gradient(180deg, rgba(255,255,255,0.94), rgba(230,230,230,0.46));
  border-radius: 30px 30px 24px 24px;
  box-shadow: 0 26px 60px rgba(0,0,0,0.12);
  clip-path: polygon(10% 0%, 90% 0%, 100% 100%, 0% 100%);
}

.paperFront{
  position:absolute;
  left: 50%;
  bottom: -4%;
  width: 88%;
  height: 66%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, rgba(255,255,255,0.62), rgba(255,255,255,0.24));
  border-radius: 28px 28px 22px 22px;
  clip-path: polygon(12% 0%, 88% 0%, 98% 100%, 2% 100%);
}

.paperFold{
  position:absolute;
  left: 50%;
  bottom: 14%;
  width: 92%;
  height: 30%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, rgba(210,210,255,0.12), rgba(255,200,225,0.10));
  clip-path: polygon(2% 0%, 98% 0%, 86% 100%, 14% 100%);
  opacity: 0.9;
}

.cellophane{
  position:absolute;
  inset:-80px;
  pointer-events:none;
  opacity: 0.14;
  mix-blend-mode: screen;
  background:
    linear-gradient(115deg,
      rgba(255,255,255,0.00) 0 42%,
      rgba(255,255,255,0.60) 50%,
      rgba(255,255,255,0.00) 64%),
    radial-gradient(520px 320px at 40% 30%, rgba(255, 170, 210, 0.12), transparent 70%),
    radial-gradient(520px 360px at 70% 42%, rgba(140, 210, 255, 0.10), transparent 70%);
}
.cellophane::before{
  content:"";
  position:absolute;
  inset:-40px;
  background: linear-gradient(110deg,
    rgba(255,255,255,0.0) 0 40%,
    rgba(255,255,255,0.60) 50%,
    rgba(255,255,255,0.0) 60%);
  opacity: 0.26;
  transform: translateX(-26%);
  animation: cellSheen 5.2s ease-in-out infinite;
}
@keyframes cellSheen{
  0%,100%{ transform: translateX(-26%) translateY(0); opacity: 0.18; }
  50%{ transform: translateX(22%) translateY(-2%); opacity: 0.32; }
}

.softHighlight{
  position:absolute;
  inset:-40px;
  background: radial-gradient(520px 280px at 55% 18%, rgba(255,255,255,0.58), transparent 70%);
  opacity: 0.85;
}

.flapLeft, .flapRight{
  position:absolute;
  bottom: 20%;
  width: 54%;
  height: 52%;
  background: linear-gradient(135deg, rgba(255,255,255,0.70), rgba(240,240,240,0.20));
  opacity: 0.90;
  box-shadow: 0 26px 60px rgba(0,0,0,0.10);
  transform-origin: bottom;
}
.flapLeft{
  left: -10%;
  clip-path: polygon(100% 0%, 24% 0%, 0% 100%, 100% 100%);
  transform: rotate(18deg) translateY(-2%);
}
.flapRight{
  right: -10%;
  clip-path: polygon(76% 0%, 0% 0%, 0% 100%, 100% 100%);
  transform: rotate(-18deg) translateY(-2%);
}

.decor{
  position:absolute;
  inset:0;
  z-index: 3;
  pointer-events:none;
}

.eucLeft, .eucRight{
  position:absolute;
  width: 42%;
  height: 42%;
  bottom: 36%;
  opacity: 0;
  background:
    radial-gradient(circle at 30% 40%, rgba(150, 190, 190, 0.55) 0 16px, transparent 18px),
    radial-gradient(circle at 52% 55%, rgba(140, 175, 175, 0.60) 0 18px, transparent 20px),
    radial-gradient(circle at 70% 38%, rgba(160, 205, 205, 0.54) 0 16px, transparent 18px),
    radial-gradient(circle at 58% 76%, rgba(120, 160, 160, 0.50) 0 18px, transparent 20px);
}
.eucLeft{ left: 6%; transform: rotate(-18deg); }
.eucRight{ right: 6%; transform: rotate(18deg); }

.breathDot{
  position:absolute;
  border-radius: 999px;
  background: rgba(255,255,255,0.95);
  box-shadow: 0 8px 18px rgba(0,0,0,0.10);
  opacity: 0;
}

.stems{
  position:absolute;
  left: 10%;
  right: 10%;
  bottom: 18%;
  height: 70%;
  z-index: 6;
  pointer-events:none;
}

.stem{
  position:absolute;
  bottom: 0;
  border-radius: 999px;
  background: linear-gradient(#46e08b, #159a60);
  transform-origin: bottom center;
  opacity: 0;
  transform: translateY(34px) rotate(0deg);
  box-shadow: 0 12px 28px rgba(0,0,0,0.12);
}
.stem::after{
  content:"";
  position:absolute;
  top:-10px;
  left:50%;
  width: 20px;
  height: 20px;
  transform: translateX(-50%);
  border-radius: 999px;
  background: linear-gradient(#46e08b, #159a60);
  box-shadow: 0 8px 18px rgba(0,0,0,0.10);
}
.leaf{
  position:absolute;
  width: 42px;
  height: 18px;
  left: 8px;
  top: 46%;
  border-radius: 18px 18px 18px 0;
  background: linear-gradient(135deg, rgba(70,224,139,1), rgba(15,140,88,1));
  opacity:0;
  transform: translateY(10px) rotate(-22deg) scale(0.8);
}
.leaf2{
  left: -40px;
  top: 60%;
  transform: translateY(10px) rotate(165deg) scaleX(-1) scale(0.8);
}
.flowerOnStem{
  position:absolute;
  left: 50%;
  bottom: calc(100% - 16px);
  transform: translateX(-50%) translateY(44px) scale(0.2);
  transform-origin: 50% 92%;
  opacity: 0;
}
.svg{
  width: clamp(118px, 30vw, 178px);
  height: auto;
}

.ribbon{
  position:absolute;
  left: 50%;
  bottom: 18%;
  width: 44%;
  height: 12%;
  transform: translateX(-50%);
  border-radius: 999px;
  background: linear-gradient(135deg, rgba(255, 110, 170, 0.95), rgba(255, 190, 220, 0.78));
  box-shadow: 0 18px 48px rgba(0,0,0,0.14);
  z-index: 8;
}
.knot{
  position:absolute;
  left: 50%;
  bottom: 18%;
  width: 15%;
  height: 15%;
  transform: translateX(-50%) translateY(-10%);
  border-radius: 18px;
  background: linear-gradient(135deg, rgba(255, 140, 195, 0.96), rgba(255, 110, 170, 0.92));
  box-shadow: 0 14px 30px rgba(0,0,0,0.10);
  z-index: 9;
}
.tailL, .tailR{
  position:absolute;
  bottom: 8%;
  width: 18%;
  height: 22%;
  background: linear-gradient(135deg, rgba(255, 110, 170, 0.92), rgba(255, 200, 225, 0.75));
  border-radius: 14px;
  opacity: 0.95;
  z-index: 8;
}
.tailL{
  left: 26%;
  clip-path: polygon(0% 0%, 100% 10%, 60% 100%, 0% 70%);
  transform: rotate(8deg);
}
.tailR{
  right: 26%;
  clip-path: polygon(0% 10%, 100% 0%, 100% 70%, 40% 100%);
  transform: rotate(-8deg);
}

.heartLayer{
  position:absolute;
  inset:0;
  border-radius: 28px;
  z-index: 10;
  pointer-events:none;
}
.heartBurst{
  position:absolute;
  width: 14px;
  height: 14px;
  background: var(--heart, rgba(255, 54, 120, 0.92));
  border-radius: 4px;
  transform: translate(-50%, -50%) rotate(45deg);
  animation: heartFly 780ms ease-out forwards;
  box-shadow: 0 14px 28px rgba(0,0,0,0.12);
}
.heartBurst::before,
.heartBurst::after{
  content:"";
  position:absolute;
  width: 100%;
  height: 100%;
  background: inherit;
  border-radius: 50%;
}
.heartBurst::before{ top:-50%; left:0; }
.heartBurst::after{ left:-50%; top:0; }
@keyframes heartFly{
  from{ opacity: 1; transform: translate(-50%, -50%) rotate(var(--r)) scale(var(--s)); }
  to{ opacity: 0; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) rotate(var(--r)) scale(calc(var(--s) * 0.7)); }
}

.footer{
  text-align:center;
  padding: 16px 14px 12px;
  border-radius: 26px;
  background: linear-gradient(180deg, rgba(255,245,252,0.82), rgba(235,248,255,0.55));
  border: 2px solid rgba(20,20,20,0.08);
  box-shadow: 0 18px 58px rgba(0,0,0,0.10);
}
.message{
  margin: 0;
  font-size: clamp(15px, 3.8vw, 19px);
  line-height: 1.65;
  color: rgba(0,0,0,0.76);
  font-weight: 800;
}
.from{
  margin: 12px 0 0;
  font-size: 12px;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(0,0,0,0.55);
  font-weight: 900;
}

/* opening */
.opened .flapLeft{ animation: flapOpenL 900ms cubic-bezier(.2,.9,.2,1) forwards; animation-delay: 120ms; }
.opened .flapRight{ animation: flapOpenR 900ms cubic-bezier(.2,.9,.2,1) forwards; animation-delay: 120ms; }
.opened .eucLeft, .opened .eucRight{ animation: fadeRise 720ms ease-out forwards; animation-delay: 520ms; }
.opened .breathDot{ animation: breathIn 650ms ease-out forwards; animation-delay: var(--bdelay); }
.opened .stem{
  animation: stemRise 780ms cubic-bezier(.2,.9,.2,1) forwards, sway 5.2s ease-in-out infinite;
  animation-delay: var(--delay), calc(var(--delay) + 1300ms);
}
.opened .leaf{ animation: leafIn 800ms ease-out forwards; animation-delay: calc(var(--delay) + 560ms); }
.opened .flowerOnStem{
  animation: flowerPop 900ms cubic-bezier(.12,.9,.12,1) forwards, float 4.2s ease-in-out infinite;
  animation-delay: var(--fdelay), calc(var(--fdelay) + 0ms);
}
@keyframes flapOpenL{ to{ transform: rotate(-24deg) translateY(18%); opacity: 0.10; } }
@keyframes flapOpenR{ to{ transform: rotate(24deg) translateY(18%); opacity: 0.10; } }
@keyframes fadeRise{ from{ opacity:0; transform: translateY(16px) scale(0.98);} to{ opacity:0.95; transform: translateY(0) scale(1);} }
@keyframes breathIn{ from{ opacity:0; transform: translateY(10px) scale(0.8);} to{ opacity:1; transform: translateY(0) scale(1);} }
@keyframes stemRise{ to{ opacity:1; transform: translateY(0) rotate(var(--rot)); } }
@keyframes sway{
  0%,100%{ transform: rotate(var(--rot)) translateY(0); }
  50%{ transform: rotate(calc(var(--rot) * -0.25)) translateY(-6px); }
}
@keyframes leafIn{ to{ opacity:1; transform: translateY(0) rotate(-22deg) scale(1);} }
@keyframes flowerPop{ to{ opacity:1; transform: translateX(-50%) translateY(0) scale(var(--scale)); } }
@keyframes float{
  0%,100%{ transform: translateX(-50%) translateY(0) scale(var(--scale)); }
  50%{ transform: translateX(-50%) translateY(-8px) scale(calc(var(--scale) * 1.01)); }
}

@media (max-width: 520px){
  .card{ padding: 12px; border-radius: 28px; }
  .bouquetArea{ border-radius: 26px; }
  .svg{ width: clamp(124px, 34vw, 186px); }
}

@media (prefers-reduced-motion: reduce){
  .flapLeft,.flapRight,.stem,.leaf,.flowerOnStem,.eucLeft,.eucRight,.breathDot,.heartBurst,
  .cellophane::before, .pageHeart, .floatHeart{
    animation: none !important;
  }
  .stem{ opacity:1 !important; transform: rotate(var(--rot)) !important; }
  .leaf{ opacity:1 !important; transform: translateY(0) rotate(-22deg) scale(1) !important; }
  .flowerOnStem{ opacity:1 !important; transform: translateX(-50%) scale(var(--scale)) !important; }
  .eucLeft,.eucRight{ opacity:0.95 !important; transform: none !important; }
  .breathDot{ opacity:1 !important; transform: none !important; }
}
